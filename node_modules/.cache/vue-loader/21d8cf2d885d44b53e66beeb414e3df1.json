{"remainingRequest":"/home/sergei/Documents/sergeifiles/csvadapter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sergei/Documents/sergeifiles/csvadapter/src/components/Spreadsheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sergei/Documents/sergeifiles/csvadapter/src/components/Spreadsheet.vue","mtime":1582321492984},{"path":"/home/sergei/Documents/sergeifiles/csvadapter/node_modules/cache-loader/dist/cjs.js","mtime":1582244156324},{"path":"/home/sergei/Documents/sergeifiles/csvadapter/node_modules/babel-loader/lib/index.js","mtime":1582244154865},{"path":"/home/sergei/Documents/sergeifiles/csvadapter/node_modules/cache-loader/dist/cjs.js","mtime":1582244156324},{"path":"/home/sergei/Documents/sergeifiles/csvadapter/node_modules/vue-loader/lib/index.js","mtime":1582244277230}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgRm9vdGVyIGZyb20gJy4vRm9vdGVyLnZ1ZScKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzcHJlYWRzaGVldCcsCiAgY29tcG9uZW50czogewogICAgRm9vdGVyCiAgIAp9LAogIGRhdGEoKQogIHsKICAgIHJldHVybiB7CiAgICAgICAgaHR0cDonaHR0cHM6Ly9hcGkuY3N2YWRhcHRlci5jb20vJywKICAgICAgICBmaWxlOicnLAogICAgICAgIHNlbGVjdGVkOidTUUwnLAogICAgICAgIG9wdGlvbnM6WydTUUwnLCdNeVNRTCcsJ01zU1FMJywnUG9zdGdyZVNRTCcsJ1NRTGl0ZSddLAogICAgICAgIGNvbnZlcnRlZERhdGE6JycsCiAgICAgICAgbmFtZTonU1FMIGFuZCBNeVNRTCcsCiAgICAgICAgdGFibGVuYW1lOicnLAogICAgICAgIGNvbHVtbnM6JycsCiAgICAgICAgdmFsdWU6IFtdCiAgICB9CiAgfSwKICBtZXRob2RzOgogIHsKICAgIGNsZWFyKCkKICAgIHsKICAgICAgdGhpcy5jb252ZXJ0ZWREYXRhPScnOwoKICAgIH0sCiAgICAgIG9uQ2hhbmdlKCRldmVudCkKICAgICAgewogICAgICAgIHZhciBteWZpbGUgPSAkZXZlbnQudGFyZ2V0LmZpbGVzWzBdOyAgICAgICAgCiAgICAgICAgLy9yZWFkIGZpbGUgY29udGVudHMKICAgICAgICB0aGlzLmZpbGU9IG15ZmlsZTsgICAgCiAgICAgIH0sCiAgICAgIHVwbG9hZEZpbGU6ZnVuY3Rpb24oKQogICAgICB7ICAgCiAgICAgICAgaWYodGhpcy5maWxlPT09JycpCiAgICAgICAgewogICAgICAgICAgYWxlcnQoJ1lvdSBjYW5ub3QgY29udmVydCBlbXB0eSBmaWxlICcpOwogICAgICAgICAgcmV0dXJuOwoKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy9jaGVjayBpZiB0aGV5IGhhdmUgc3VwcGxpZWQgdGFibGUgbmFtZQoKICAgICAgICB2YXIgY29sdW1uPScnOwogICAgICAgIGlmKHRoaXMudmFsdWUhPW51bGwpCiAgICAgICAgewogICAgICAgICAgdmFyIGk9MDsKICAgICAgICAgIHRoaXMudmFsdWUuZm9yRWFjaCgodmFsdWUpPT4KICAgICAgICAgIHsKICAgICAgICAgICAgaSsrOwogICAgICAgICAgICBjb2x1bW4gPSBjb2x1bW4gKyB2YWx1ZTsKICAgICAgICAgICAgaWYoaTx0aGlzLnZhbHVlLmxlbmd0aCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICBjb2x1bW4gKz0iLCI7ICAgICAgICAgIAoKICAgICAgICAgICAgfQogICAgICAgICAgfSk7ICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICBjb2x1bW49Jyc7CiAgICAgICAgfQogICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbjsKCiAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZSk7CiAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLHRoaXMuc2VsZWN0ZWQpOwogICAgICAgZm9ybURhdGEuYXBwZW5kKCd0YWJsZScsdGhpcy50YWJsZW5hbWUpOwogICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb2x1bW5zJyx0aGlzLmNvbHVtbnMpOwogICAgCiAgICAKICAgIHRoaXMuJGh0dHAucG9zdCh0aGlzLmh0dHAsIGZvcm1EYXRhLAogICAgICAKICAgICAgLy8gdGhpcy4kaHR0cC5wb3N0KCcuLi9waHAvaW5kZXgucGhwJywgZm9ybURhdGEsCiAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOnsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgfQogICAgICAgfSkKICAgICAgIC50aGVuKChyZXNwb25zZSk9PgogICAgICAgeyAgCiAgICAgICAgICAgdGhpcy5jb252ZXJ0ZWREYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAKICAgICAgIH0pCiAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKQogICAgICAgewogICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICB9KTsKICAgICAgIAoKICAgICB9CiAgICAgCiAgfSAKCn0KCg=="},{"version":3,"sources":["Spreadsheet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA","file":"Spreadsheet.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n<!-- Page Content -->\n<div class=\"container\">\n  <!-- <div class=\"card border-0 shadow my-5\">\n    <div class=\"card-body p-5\"> -->\n       <b-alert show variant=\"warning\">Nb: Please convert your file to csv first before uploading</b-alert>\n<div class=\"dropfile\">\n <input \n      type=\"file\"\n      class=\"fileinput\"      \n      ref=\"file\"\n      @change=\"onChange\">\n     \n<h2 class=\"inputtext\">Drop csv file here</h2>\n\n</div>\n\n<div class=\"row\">\n<div class=\"col-sm-4\">\n  Target Type \n<b-form-select placeholder=\"Target type\" v-model=\"selected\" :options=\"options\">\n    -- Please select an target type --\n</b-form-select>\n  </div>\n   <div class=\"col-sm-4\">\n     Your table name \n      <b-form-input v-model=\"tablename\" placeholder=\"tablename\"></b-form-input>\n      \n    <!-- <div class=\"mt-2\">Defined table <b>{{ tablename }}</b></div> -->\n  </div>\n  <div class=\"col-sm-4\">\n   <!-- Your Columns (add , after the name)\n      <b-form-input v-model=\"columns\" placeholder=\"target table column names\"></b-form-input>\n    <div class=\"mt-2\"><b>{{ columns }}</b></div>-->\n     \n\n   Enter column names and press enter\n    <b-form-tags \n    input-id=\"tags-basic\" \n    separator=\" ,;\" \n    placeholder=\"add column name\" \n    v-model=\"value\" \n    class=\"mb-3\"\n    ></b-form-tags>\n\n  </div>\n\n    <div class=\"col-sm-4\">\n      <b-button \n      size=\"md\"       \n    variant=\"primary\"\n      @click=\"uploadFile()\">Convert File</b-button>\n  </div>\n \n</div>\n<div>\n    <br>\n  <b-form-textarea\n    id=\"textarea-rows\"\n    placeholder=\"Converted output\"\n    rows=\"8\"\n    style=\"font-family:monospace;\"\n    v-model=\"convertedData\"    \n  ></b-form-textarea>\n\n  <div class=\"mt-3\">\n    <b-button-group size=\"sm\">\n      <b-button>Copy</b-button>\n      <b-button @click=\"clear()\">Clear</b-button>\n    </b-button-group>\n  </div>\n</div>\n\n  </div>\n\n<!-- </div>\n</div>   -->\n\n<Footer></Footer>\n</div>\n</template>\n\n<script>\n\nimport Footer from './Footer.vue'\nexport default {\n  name: 'spreadsheet',\n  components: {\n    Footer\n   \n},\n  data()\n  {\n    return {\n        http:'https://api.csvadapter.com/',\n        file:'',\n        selected:'SQL',\n        options:['SQL','MySQL','MsSQL','PostgreSQL','SQLite'],\n        convertedData:'',\n        name:'SQL and MySQL',\n        tablename:'',\n        columns:'',\n        value: []\n    }\n  },\n  methods:\n  {\n    clear()\n    {\n      this.convertedData='';\n\n    },\n      onChange($event)\n      {\n        var myfile = $event.target.files[0];        \n        //read file contents\n        this.file= myfile;    \n      },\n      uploadFile:function()\n      {   \n        if(this.file==='')\n        {\n          alert('You cannot convert empty file ');\n          return;\n\n        }\n        \n        //check if they have supplied table name\n\n        var column='';\n        if(this.value!=null)\n        {\n          var i=0;\n          this.value.forEach((value)=>\n          {\n            i++;\n            column = column + value;\n            if(i<this.value.length)\n            {\n               column +=\",\";          \n\n            }\n          });      \n        }\n        else\n        {\n          column='';\n        }\n        this.columns = column;\n\n       let formData = new FormData();\n       formData.append('file', this.file);\n       formData.append('type',this.selected);\n       formData.append('table',this.tablename);\n       formData.append('columns',this.columns);\n    \n    \n    this.$http.post(this.http, formData,\n      \n      // this.$http.post('../php/index.php', formData,\n       {\n          headers:{\n            'Content-Type': 'multipart/form-data'\n          }\n       })\n       .then((response)=>\n       {  \n           this.convertedData = response.data;\n           \n       })\n       .catch(function (error)\n       {\n           window.console.log(error);\n       });\n       \n\n     }\n     \n  } \n\n}\n\n</script>\n\n<style> \n/* Set a background image by replacing the URL below */\nbody {\n  /*background: url('https://www.excel-easy.com/basics/images/worksheets/sheet1.png');*/\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  background-size: cover;\n  -o-background-size: cover;\n  background-color: white;\n}\n.dropfile{\n    background: whitesmoke;\n    height: 100px;\n    border: 2px dashed rgb(204, 228, 228);\n    outline-offset: -10px;\n    font-family: sans-serif;\n    margin: 20px auto;\n   \n    position: relative;\n\n}\n.fileinput{\nheight: 100px; width:100%;\nposition: absolute;\nopacity:0;\ntext-align: center;\n}\n.inputtext{\ntext-align: center;\nfont-family: \"Sans-serif\", Arial, Verdana;\nmargin: 30px auto;\n\n}\n</style>\n"]}]}